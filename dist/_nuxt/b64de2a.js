(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{596:function(e,n,t){var content=t(600);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(21).default)("94564998",content,!0,{sourceMap:!1})},599:function(e,n,t){"use strict";t(596)},600:function(e,n,t){var o=t(20)(!1);o.push([e.i,"pre{text-align:left}",""]),e.exports=o},622:function(e,n,t){"use strict";t.r(n);t(599);var o=t(91),component=Object(o.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h3",[e._v("1.获取cookie")]),e._v(" "),t("pre",[e._v("            "),t("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"http"},[e._v('\nPOST /auth/login HTTP/2\nHost: backend.box3.fun\nCookie: [目前的cookie]\nContent-Length: 43\nSec-Ch-Ua: "Chromium";v="93", " Not;A Brand";v="99"\nAccept: application/json, text/plain, */*\nContent-Type: application/json\nAuthorization: \nSec-Ch-Ua-Mobile: ?0\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.82 Safari/537.36\nSec-Ch-Ua-Platform: "macOS"\nOrigin: https://box3.fun\nSec-Fetch-Site: same-site\nSec-Fetch-Mode: cors\nSec-Fetch-Dest: empty\nReferer: https://box3.fun/\nAccept-Encoding: gzip, deflate\nAccept-Language: zh-CN,zh;q=0.9\n\n{\n    "account":"[用户名]",\n    "password":"[密码]"\n}\n            ')]),e._v("\n        ")]),e._v(" "),t("h4",[e._v("返回(如果登录成功)")]),e._v(" "),t("pre",[e._v("            "),t("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"http"},[e._v('\nHTTP/2 200 OK\nDate: Thu, 20 Jan 2022 04:37:13 GMT\nContent-Type: application/json;charset=utf-8\nVary: Accept-Encoding\nAccess-Control-Allow-Origin: https://box3.fun\nAccess-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Origin, No-Cache, x-requested-with, authorization, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers,Authorization, credential, X-XSRF-TOKEN, token, encrypt, accept, notCheck, check, Access-Control-Allow-Origin, Cache-Control, Device-ID\nAccess-Control-Allow-Credentials: true\nSet-Cookie: box-auth2=[怎么能告诉你呢]; Path=/; Domain=.box3.fun; Max-Age=31536000; Expires=Fri, 20 Jan 2023 04:37:13 GMT; Secure; HttpOnly; SameSite=none\nStrict-Transport-Security: max-age=15724800; includeSubDomains\n\n{"code":200,"msg":"success","data":{"id":1165227,"cmid":1104861,"displayname":"ray_crazy","wearingSkins":{"head":"pilot","hips":"pinkGirl","leftFoot":"pilot","leftHand":"pilot","leftLowerArm":"purpleGirl","leftLowerLeg":"codeWriter","leftShoulder":"zombieGirl","leftUpperArm":"purpleGirl","leftUpperLeg":"codeWriter","neck":"zombieGirl","rightFoot":"pilot","rightHand":"pilot","rightLowerArm":"purpleGirl","rightLowerLeg":"codeWriter","rightShoulder":"zombieGirl","rightUpperArm":"purpleGirl","rightUpperLeg":"codeWriter","torso":"purpleGirl"},"permission":128,"createdAt":"2020-04-09T00:50:34.873","updatedAt":"2022-01-19T16:05:00.752","birthday":"[保密哦]","avatar":"https://static.codemao.cn/FvicqdFT0-k9-nBD7c8q_AMijHo_","avatarHash":"QmfSoNiJozzkjj8eJFwQPAwCFvsWWWGhR36pPe9RhADJ8K","status":1,"blocklist":[],"gender":0,"username":"bcmray","phone":"+86*******5408","email":"","language":"zh_CN","description":"来 119.29.64.129 看我","avatarStatus":2,"firstLogin":false,"reputation":100,"authInfo":10,"flags":3,"mutedTill":"1969-12-31T16:00:00","bannedTill":"1969-12-31T16:00:00","banEditor":false,"gold":0,"tag":0,"token":"[保密哦]","isSetPassword":true},"traceId":null}\n            ')]),e._v("\n        ")]),e._v(" "),t("h4",[e._v("返回(如果登录失败)")]),e._v(" "),t("pre",[e._v("            "),t("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"http"},[e._v('\nHTTP/2 200 OK\nDate: Fri, 21 Jan 2022 02:03:21 GMT\nContent-Type: application/json;charset=utf-8\nVary: Accept-Encoding\nAccess-Control-Allow-Origin: https://box3.fun\nAccess-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Origin, No-Cache, x-requested-with, authorization, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers,Authorization, credential, X-XSRF-TOKEN, token, encrypt, accept, notCheck, check, Access-Control-Allow-Origin, Cache-Control, Device-ID\nAccess-Control-Allow-Credentials: true\nSet-Cookie: HttpOnly;Secure;SameSite=None\nStrict-Transport-Security: max-age=15724800; includeSubDomains\n\n{"code":10001000,"msg":"noSuchUser","data":null,"traceId":null}\n            ')]),e._v("\n        ")]),e._v(" "),e._m(0),e._v(" "),t("br"),e._v(" "),t("h3",[e._v("2.解析响应")]),e._v(" "),e._m(1),e._v(" "),t("br"),e._v(" "),t("h3",[e._v("3.再次获取用户信息")]),e._v(" "),t("pre",[e._v("            "),t("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"http"},[e._v('\nPOST /auth/online/1 HTTP/2\nHost: backend.box3.fun\nCookie: [上一步得到的cookie]\nContent-Length: 0\nSec-Ch-Ua: "Chromium";v="93", " Not;A Brand";v="99"\nAccept: application/json, text/plain, */*\nAuthorization: \nSec-Ch-Ua-Mobile: ?0\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.82 Safari/537.36\nSec-Ch-Ua-Platform: "macOS"\nOrigin: https://box3.fun\nSec-Fetch-Site: same-site\nSec-Fetch-Mode: cors\nSec-Fetch-Dest: empty\nReferer: https://box3.fun/\nAccept-Encoding: gzip, deflate\nAccept-Language: zh-CN,zh;q=0.9\n            ')]),e._v("\n        ")]),e._v(" "),t("span",[e._v("响应(成功)同上(步骤1)")]),e._v(" "),t("h4",[e._v("响应(未登录或登录失败)")]),e._v(" "),t("pre",[e._v("            "),t("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"http"},[e._v('\nHTTP/2 200 OK\nDate: Fri, 21 Jan 2022 02:06:35 GMT\nContent-Type: application/json;charset=utf-8\nContent-Length: 33\nAccess-Control-Allow-Origin: https://box3.fun\nAccess-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Origin, No-Cache, x-requested-with, authorization, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers,Authorization, credential, X-XSRF-TOKEN, token, encrypt, accept, notCheck, check, Access-Control-Allow-Origin, Cache-Control, Device-ID\nAccess-Control-Allow-Credentials: true\nSet-Cookie: HttpOnly;Secure;SameSite=None\nStrict-Transport-Security: max-age=15724800; includeSubDomains\n\n{"code":401,"msg":"UNAUTHORIZED"}\n            ')]),e._v("\n        ")]),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("h3",[e._v("实战 Javascript + axios")]),e._v(" "),t("pre",[e._v("            "),t("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"javascript"},[e._v('\n/**用axios进行登录\n * @author bcmray_crazy\n */\n // 用户id\n var userid = "";\n // 用户密码\n var pwd = "";\n // 发送请求\n axios\n    .post("https://box3.fun/auth/login",{\n        "account":userid,\n        "password":pwd\n    });\n    .then(({data})=>{\n        var info = JSON.parse(data);\n        if(info.msg != \'success\') return console.warn("用户名或密码错误");\n        var userData = info.data;\n        console.log(userData);\n    });\n    .catch(err=>{\n        // 若请求发送失败或相应404会报错,需要抓住\n        console.error(err);\n    });\n            ')]),e._v("\n        ")])])}),[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",[e._v("\n            我们要记住cookie的值,以便于以后操作。"),t("br"),e._v('\n            判断是否成功:"msg"=="success"?'),t("br")])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",[e._v('\n            用户一切信息都在于"data"中'),t("br"),t("br"),e._v("\n            1.用户名"),t("br"),e._v('\n            位于"displayname"中'),t("br"),e._v("\n            2.用户头像"),t("br"),e._v('\n            位于"avatar"中'),t("br"),e._v("\n            3.用户id"),t("br"),e._v('\n            位于"username"中'),t("br"),e._v("\n            4.用户生日"),t("br"),e._v('\n            位于"birthday"中'),t("br"),e._v("\n            5.用户性别"),t("br"),e._v('\n            位于"gender"中,0是男,1是女'),t("br"),e._v("\n            6.用户邮箱"),t("br"),e._v('\n            位于"email"中'),t("br"),e._v("\n            7.用户黑名单"),t("br"),e._v('\n            位于"blocklist"中'),t("br"),e._v("\n            8.封禁"),t("br"),e._v('\n            "bannedTill"中,若是1969-12-31表示没有被封禁过,若是之前的日期表示被封禁过，若是以后的日期表示正在封禁'),t("br"),e._v('\n            "banEditor"表示是否有编辑器权限'),t("br")])}],!1,null,null,null);n.default=component.exports}}]);